// Full Documentation - https://www.turbo360.co/docs
const turbo = require("turbo360")({ site_id: process.env.TURBO_APP_ID });
const vertex = require("vertex360")({ site_id: process.env.TURBO_APP_ID });
const router = vertex.router();

const profiles = {
  steve: {
    username: "steve",
    name: "steve job",
    image:
      "data:image/jpeg;base64,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",
    company: "Apple",
    languages: ["PHP", "JAVA", "Angular", "NodeJS"]
  },
  beckham: {
    username: "beckham",
    name: "Davic beckham",
    image:
      "data:image/jpeg;base64,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",
    company: "man united",
    languages: ["Reactive"]
  }
}; // end profile

//GET POST PUT DELETE

router.get("/", (req, res) => {
  res.render("index", {
    text:
      "This is the dynamic data. Open index.js from the routes directory to see."
  });
});

router.post("/addprofile", (req, res) => {
  const data = req.body;
  data["languages"] = req.body.languages.split(",");

  profiles[data.name] = data;
  res.redirect("/profile/" + data.name);
  /*
	res.json({
		confirmation: 'success',
		data:data
	})
	*/
});

router.get("/profiles", (req, res) => {
  const keys = Object.keys(profiles); // key
  const list = [];

  keys.forEach(key => {
    list.push(profiles[key]);
  });

 

  const data = {
    profiles: list,
    timestamp: req.timestamp
  };
  res.render("profiles", data);
});

router.get("/query", (req, res) => {
  const name = req.query.name;
  const occupation = req.query.occupation;

  /*
	res.json({
		name: name,
		occupation: occupation
	})
	*/

  const data = {
    name: name,
    occupation: occupation
  };

  res.render("profile", data);
});

router.get("/:path", (req, res) => {
  const path = req.params.path;
  res.json({
    data: path
  });
});

router.get("/:profile/:username", (req, res) => {
  const profile = req.params.profile;
  const username = req.params.username;
  const CurrentProfile = profiles[username];

  if (CurrentProfile == null) {
    res.json({
      confirmation: "fail",
      message: "Profile " + username + " not found"
    });
    return;
  }
 
  CurrentProfile.timestamp = req.timestamp

  res.render("profile", CurrentProfile);
});

module.exports = router;
